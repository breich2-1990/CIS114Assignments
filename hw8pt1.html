<!DOCTYPE html>
<html>
<style>
table,th,td {
  border : 1px solid black;
  border-collapse: collapse;
}
th,td {
  padding: 5px;
}
</style>
<body>
<h1>Homework 8: AJAX Application</h1><br><br>
<button type="button" onclick="loadDoc()">Get CD collection</button>
<br><br>
<table id="demo"></table><br><br>

<script>
function loadDoc() {
  const xhttp = new XMLHttpRequest();
  xhttp.onload = function() {
    myFunction(this);
  }
  xhttp.open("GET", "cd_catalog.xml");
  xhttp.send();
}
function myFunction(xml) {
  const xmlDoc = xml.responseXML;
  const x = xmlDoc.getElementsByTagName("CD");
  let table="<tr><th>Artist</th><th>Title</th></tr>";
  for (let i = 0; i <x.length; i++) { 
    table += "<tr><td>" +
    x[i].getElementsByTagName("ARTIST")[0].childNodes[0].nodeValue +
    "</td><td>" +
    x[i].getElementsByTagName("TITLE")[0].childNodes[0].nodeValue +
    "</td></tr>";
  }
  document.getElementById("demo").innerHTML = table;
}
</script>

<h2>Explanation: </h2>
<p>
  On this page there are 2 different AJAX calls. First AJAX call is initiated when the user clicks <b>"Get CD collection"</b> button. 
  The function loadDoc() creates an XMLHttpRequest object and sends an HTTP GET request to cd_catalog.xml.
  When the browser finishes downloading the XML file, then the onload event calls myFunction(), which reads the CD elements from XML. This extracts the artist and title for each CD.
  This also helps building an HTML table. Finally the Table is inserted into the page by changing the innerHTML of the element.
</p>

<br><br>
<p>Free Jobs API<br>
This is a FREE API that has 100% reliability!<br>
Need an area on your page to help others find their next money source? This API has 1 endpoint, with 668 ms response<br>
time, all through the Rise job listing website source. The endpoint makes a HTTP GET request to retrieve the list.<br>
It then retrieves a JSON response of multiple job listings, including title, location, and salary. <br>
<a href="https://www.freepublicapis.com/free-jobs-api">Link to code/key to use API</a><br>
<a href="https://docs.joinrise.co/?ref=freepublicapis.com">Testing/documentation</a><br>
<a href="https://joinrise.co/">The website behind the API</a><br></p>
</body>



<a class="hw-link" id="home-link" href="index.html">Go Home</a>
</html>
